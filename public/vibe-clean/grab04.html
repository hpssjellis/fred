<h1>VibeCode and Clean</h1>

<button onclick="viewSource('myIframe','sourceTextarea'); viewSource('myIframe2','sourceTextarea2');">View iFrame Source</button>
<table border=1 style="width:100%;">
  <tr>
    <th width="48%"> Vibe Page </th>
    <th width="48%">Vibe Source</th>
  </tr>
  <tr>
    <td><iframe id="myIframe" src="vibe01.html" width="100%" height="100%"></iframe></td>
    <td style="padding:0; margin:0; position:relative; vertical-align:top;">
      <textarea id="sourceTextarea" style="width:100%; height:100%; box-sizing:border-box; resize:both; border:none; margin:0; padding:0;" Cols="20"></textarea>
    </td>
  </tr>
  <tr>
    <th width="48%"> Cleaned Page </th>
    <th width="48%">Cleaned Source</th>
  </tr>
  <tr>
  <tr>
    <td><iframe id="myIframe2" src="vibe01.html" width="100%" height="400px"></iframe></td>
    <td style="padding:0; margin:0; position:relative; vertical-align:top;">
      <textarea id="sourceTextarea2" style="width:100%; height:100%; box-sizing:border-box; resize:both; border:none; margin:0; padding:0;" Cols="20"></textarea>
    </td>
  </tr>
</table>

<script>
  function viewSource(myFrameHTML ,myFrameSource) {
    const iframe = document.getElementById(myFrameHTML);
    const textarea = document.getElementById(myFrameSource);

    try {
      const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
      const source = iframeDoc.documentElement.outerHTML;
      textarea.value = source;
    } catch (e) {
      console.error("Access to iframe content blocked by Same-Origin Policy:", e);
      textarea.value = "Error: Cannot access content from this iframe due to the Same-Origin Policy. " +
                       "The content must be from the same domain as the parent page.";
    }
  }
</script>
